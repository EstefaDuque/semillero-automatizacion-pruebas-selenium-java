package com.testerstories.tutorial.todos.features.add_todo;

import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith; //Usamos el lanzador JUnit
import org.openqa.selenium.WebDriver;

import com.google.certification.tasks.AddATodoItem;
import com.google.certification.tasks.StartWith;

import net.serenitybdd.junit.runners.SerenityRunner;
import net.serenitybdd.screenplay.Actor;
import net.serenitybdd.screenplay.abilities.BrowseTheWeb;
import net.thucydides.core.annotations.Managed;
import static net.serenitybdd.screenplay.GivenWhenThen.givenThat;
import static net.serenitybdd.screenplay.GivenWhenThen.when;
 
@RunWith(SerenityRunner.class)

public class AddNewTodo {
	
	//Crear una instancia de tipo Actor
    Actor estefa = Actor.named("estefa");
    
    /*Especificarle al administrador del controlador que debe usar el navegador Chrome
    si no se le especifica usa firefox por defecto*/
   @Managed(driver = "chrome")//his o her
    WebDriver herBrowser;
    
    @Before
    public void estefaCanBrowseTheWeb() {
    	//estefa puede abrir el navegador con chrome
        givenThat(estefa).can(BrowseTheWeb.with(herBrowser));
    }
    
    @Test
    //el objetivo de estefa es agregar el primer elemento de tareas a una lista.
    public void should_be_able_to_add_the_first_todo_item() {
    	
    	//StartWith.anEmptyTodoList es una tarea.
    	/*Los métodos wasAbleTo () y attemptsTo toman un objeto Task (o una lista de dichos objetos) 
    	y llama sucesivamente al método performAs () para cada tarea.
    	Puede usar "given / when / then" para que la intención de una prueba sea
    	más obvia*/

    	//Dado que estefa pudo empezar con una lista de que haceres vacia
    	givenThat(estefa).wasAbleTo(StartWith.anEmptyTodoList());
        //Cuando intenta llamar un item a lista de que haceres llamado ....
    	when(estefa).attemptsTo(AddATodoItem.called("Digitize sophos solutions"));

    }
}

